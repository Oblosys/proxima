imports
{
import Common.CommonTypes hiding (Dirty (..))
import Presentation.PresLayerTypes
import Presentation.PresLayerUtils

import Presentation.XprezLib
import Presentation.XLatex hiding (bold)

import Evaluation.DocumentEdit

import List
import Maybe
import qualified Data.Map as Map
import Data.Map (Map)


import Evaluation.DocTypes (DocumentLevel (..))
import DocTypes_Generated
import DocUtils_Generated
import DocumentEdit_Generated


}

INCLUDE "PresentationAG_Generated.ag"


SEM EnrichedDoc
  | RootEnr
      lhs.pres = loc (Node_RootEnr @self @lhs.path) $ structural $ presentFocus @lhs.focusD @lhs.path $
                   col [ text $ "Tree with depth "++show @tree.depth, @tree.pres ]

SEM Tree [ | | depth : Int ]
  | Bin  lhs.depth = @left.depth `max` @right.depth + 1
  | Leaf lhs.depth = 1
  | HoleTree ParseErrTree
      lhs.depth = 0

{-
SEM Tree
  | Bin
      lhs.pres = loc (Node_Bin @self @lhs.path) $ parsing $ presentFocus @lhs.focusD @lhs.path $
                   row [ text "Bin (", @left.pres, text ") (", @right.pres, text ")" ]
  | Leaf
      lhs.pres = loc (Node_Leaf @self @lhs.path) $ parsing $ presentFocus @lhs.focusD @lhs.path $
                   row [ text "Leaf" ]
-}

SEM Tree
  | Bin
      lhs.pres = loc (Node_Bin @self @lhs.path) $ structural $ presentFocus @lhs.focusD @lhs.path $
                   row [ col [ vSpace 10, @left.pres]
                       , text "Bin"
                       , col [ vSpace 10, @right.pres ] 
                       ]
  | Leaf
      lhs.pres = loc (Node_Leaf @self @lhs.path) $ structural $ presentFocus @lhs.focusD @lhs.path $
                   row [ text "Leaf" ]
