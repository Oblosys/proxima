imports
{
import Common.CommonTypes hiding (Dirty (..))
import Presentation.PresLayerTypes
import Presentation.PresLayerUtils

import Presentation.XprezLib
import Presentation.XLatex hiding (bold)

import Evaluation.DocumentEdit

import List
import Maybe
import qualified Data.Map as Map
import Data.Map (Map)


import Evaluation.DocTypes (DocumentLevel (..))
import DocTypes_Generated
import DocUtils_Generated
import DocumentEdit_Generated


}

INCLUDE "PresentationAG_Generated.ag"


SEM EnrichedDoc
  | RootEnr
      loc.pres = structural $
                   col [ text $ "Tree with depth "++show @tree.depth, @tree.pres, text $ show $ @tree.self ]

SEM Tree [ | | depth : Int ]
  | Bin  lhs.depth = @left.depth `max` @right.depth + 1
  | Leaf lhs.depth = 1
  | HoleTree ParseErrTree
      lhs.depth = 0
      

{-
SEM Tree
  | Bin
      loc.pres = parsing $
                   row [ text "Bin (", @left.pres, text ") (", @right.pres, text ")" ]
  | Leaf
      loc.pres = parsing $
                   row [ text "Leaf" ]

-}
SEM Tree
  | Bin
      loc.pres = structural $
                   row [ col [ vSpace 10, @left.pres]
                       , text "Bin"
                       {-, col [ vSpace 10, @right.pres ] 
                       , col [ vSpace 10, @left.pres]
                       -}
                       ]
  | Leaf
      loc.pres = structural $
                   row [ text "Leaf" ]
