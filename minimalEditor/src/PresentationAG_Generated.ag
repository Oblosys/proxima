
SEM EnrichedDoc
  | RootEnr root.path  = []
  | RootEnr root.ix    = 0

{
type Presentation_Doc_Node_Clip = Presentation Document Node ClipDoc

presentElementXML :: FocusDoc -> Node -> [Int] -> String -> [Presentation_Doc_Node_Clip] -> Presentation_Doc_Node_Clip
presentElementXML focusD node path tag children =
  loc node $ parsing $ presentFocus focusD path $                  
    if null children
    then col [ text $ "<"++tag++"/>"]
    else col [ text  $ "<"++tag++">"
             , row [ text "  ", col children ]
             , text $ "</"++tag++">" ]      
    
presentPrimXMLBool :: Bool -> Presentation_Doc_Node_Clip
presentPrimXMLBool x = text $ "<Bool>"++show x++"<Bool/>"

presentPrimXMLInt :: Int -> Presentation_Doc_Node_Clip
presentPrimXMLInt x = text $ "<Int>"++show x++"<Int/>"

presentPrimXMLString :: String -> Presentation_Doc_Node_Clip
presentPrimXMLString x = text $ "<String>"++x++"<String>"


presentElementTree :: FocusDoc -> Node -> [Int] -> String -> [Presentation_Doc_Node_Clip] -> Presentation_Doc_Node_Clip
presentElementTree focusD node path tag children =
  loc node $ parsing $ presentFocus focusD path $                  
    if null children
    then mkTreeLeaf False $ text $ tag
    else mkTreeNode False True (text tag) children
    
presentPrimTreeBool :: Bool -> Presentation_Doc_Node_Clip
presentPrimTreeBool x =  mkTreeLeaf False $ text $ "Bool: "++show x

presentPrimTreeInt :: Int -> Presentation_Doc_Node_Clip
presentPrimTreeInt x =  mkTreeLeaf False $ text $ "Int: "++show x

presentPrimTreeString :: String -> Presentation_Doc_Node_Clip
presentPrimTreeString x =  mkTreeLeaf False $ text $ "String: "++x



}                   

SEM EnrichedDoc
  | HoleEnrichedDoc     lhs.pres = presHole @lhs.focusD "EnrichedDoc" (HoleEnrichedDocNode @self []) []
  | ParseErrEnrichedDoc lhs.pres = presParseErr @presentation



SEM String_
  | String_
      lhs.pres = loc (String_Node @self @lhs.path) $ parsing $ presentFocus @lhs.focusD @lhs.path $
                   row [text @string, text ""] -- ? why this empty string?

SEM String_ [ | | length : Int str : String ]
  | String_ lhs.length = length @string
            lhs.str    = @string
  | ParseErrString_ HoleString_
            lhs.length = 0
            lhs.str    = ""

SEM Int_
  | Int_
      lhs.pres = loc (Int_Node @self @lhs.path) $ parsing $ presentFocus @lhs.focusD @lhs.path $
                   row [text $ show @int, text ""] -- ? why this empty string?

SEM Int_ [ | | int : Int ]
  | Int_    lhs.int    = @int
  | ParseErrInt_ HoleInt_
            lhs.int    = 0

SEM Bool_
  | Bool_
      lhs.pres = loc (Bool_Node @self @lhs.path) $ parsing $ presentFocus @lhs.focusD @lhs.path $
                   row [text $ show @bool, text ""] -- ? why this empty string?

SEM Bool_ [ | | bool : Bool ]
  | Bool_    lhs.bool    = @bool
  | ParseErrBool_ HoleBool_
            lhs.bool    = False



----- GENERATED PART STARTS HERE. DO NOT EDIT ON OR BEYOND THIS LINE -----

{- ------------------------------------

 generated part

------------------------------------- -}


DATA EnrichedDoc | RootEnr id:IDD root:Root document:Document 
                 | HoleEnrichedDoc
                 | ParseErrEnrichedDoc presentation:Presentation_Doc_Node_Clip


DATA String_ | String_ idd:IDD string:String 
             | HoleString_
             | ParseErrString_ presentation:Presentation_Doc_Node_Clip


DATA Bool_ | Bool_ idd:IDD bool:Bool 
           | HoleBool_
           | ParseErrBool_ presentation:Presentation_Doc_Node_Clip


DATA Int_ | Int_ idd:IDD int:Int 
          | HoleInt_
          | ParseErrInt_ presentation:Presentation_Doc_Node_Clip


DATA Dummy | Dummy idd:IDD dummys:List_Dummy string_:String_ bool_:Bool_ int_:Int_ 
           | HoleDummy
           | ParseErrDummy presentation:Presentation_Doc_Node_Clip


DATA Root | Root idd:IDD tree:Tree graph:Graph 
          | HoleRoot
          | ParseErrRoot presentation:Presentation_Doc_Node_Clip


DATA Tree | Bin idd:IDD left:Tree right:Tree 
          | Leaf idd:IDD 
          | HoleTree
          | ParseErrTree presentation:Presentation_Doc_Node_Clip


DATA Graph | Graph idd:IDD vertices:List_Vertex edges:List_Edge 
           | HoleGraph
           | ParseErrGraph presentation:Presentation_Doc_Node_Clip


DATA Vertex | Vertex idd:IDD id:Int_ x:Int_ y:Int_ 
            | HoleVertex
            | ParseErrVertex presentation:Presentation_Doc_Node_Clip


DATA Edge | Edge idd:IDD from:Int_ to:Int_ 
          | HoleEdge
          | ParseErrEdge presentation:Presentation_Doc_Node_Clip


DATA List_Dummy | List_Dummy idd:IDD elts:ConsList_Dummy 
                | HoleList_Dummy
                | ParseErrList_Dummy presentation:Presentation_Doc_Node_Clip


DATA ConsList_Dummy | Cons_Dummy head:Dummy tail:ConsList_Dummy 
                    | Nil_Dummy 


DATA List_Vertex | List_Vertex idd:IDD elts:ConsList_Vertex 
                 | HoleList_Vertex
                 | ParseErrList_Vertex presentation:Presentation_Doc_Node_Clip


DATA ConsList_Vertex | Cons_Vertex head:Vertex tail:ConsList_Vertex 
                     | Nil_Vertex 


DATA List_Edge | List_Edge idd:IDD elts:ConsList_Edge 
               | HoleList_Edge
               | ParseErrList_Edge presentation:Presentation_Doc_Node_Clip


DATA ConsList_Edge | Cons_Edge head:Edge tail:ConsList_Edge 
                   | Nil_Edge 


SEM String_
  | HoleString_     lhs.pres = presHole @lhs.focusD "String_" (HoleString_Node @self @lhs.path) @lhs.path
  | ParseErrString_ lhs.pres = presParseErr @presentation


SEM Bool_
  | HoleBool_     lhs.pres = presHole @lhs.focusD "Bool_" (HoleBool_Node @self @lhs.path) @lhs.path
  | ParseErrBool_ lhs.pres = presParseErr @presentation


SEM Int_
  | HoleInt_     lhs.pres = presHole @lhs.focusD "Int_" (HoleInt_Node @self @lhs.path) @lhs.path
  | ParseErrInt_ lhs.pres = presParseErr @presentation


SEM Dummy
  | Dummy dummys.pIdC = @lhs.pIdC + 0
          int_.pIdC = @bool_.pIdC
          bool_.pIdC = @string_.pIdC
          string_.pIdC = @dummys.pIdC
          lhs.pIdC = @int_.pIdC
  | HoleDummy     lhs.pres = presHole @lhs.focusD "Dummy" (HoleDummyNode @self @lhs.path) @lhs.path
  | ParseErrDummy lhs.pres = presParseErr @presentation


SEM Dummy
  | Dummy dummys.path  = @lhs.path++[0]
          string_.path  = @lhs.path++[1]
          bool_.path  = @lhs.path++[2]
          int_.path  = @lhs.path++[3]


SEM Root
  | Root tree.pIdC = @lhs.pIdC + 0
         graph.pIdC = @tree.pIdC
         lhs.pIdC = @graph.pIdC
  | HoleRoot     lhs.pres = presHole @lhs.focusD "Root" (HoleRootNode @self @lhs.path) @lhs.path
  | ParseErrRoot lhs.pres = presParseErr @presentation


SEM Root
  | Root tree.path  = @lhs.path++[0]
         graph.path  = @lhs.path++[1]


SEM Tree
  | Bin left.pIdC = @lhs.pIdC + 0
        right.pIdC = @left.pIdC
        lhs.pIdC = @right.pIdC
  | HoleTree     lhs.pres = presHole @lhs.focusD "Tree" (HoleTreeNode @self @lhs.path) @lhs.path
  | ParseErrTree lhs.pres = presParseErr @presentation


SEM Tree
  | Bin left.path  = @lhs.path++[0]
        right.path  = @lhs.path++[1]


SEM Graph
  | Graph vertices.pIdC = @lhs.pIdC + 0
          edges.pIdC = @vertices.pIdC
          lhs.pIdC = @edges.pIdC
  | HoleGraph     lhs.pres = presHole @lhs.focusD "Graph" (HoleGraphNode @self @lhs.path) @lhs.path
  | ParseErrGraph lhs.pres = presParseErr @presentation


SEM Graph
  | Graph vertices.path  = @lhs.path++[0]
          edges.path  = @lhs.path++[1]


SEM Vertex
  | Vertex id.pIdC = @lhs.pIdC + 0
           y.pIdC = @x.pIdC
           x.pIdC = @id.pIdC
           lhs.pIdC = @y.pIdC
  | HoleVertex     lhs.pres = presHole @lhs.focusD "Vertex" (HoleVertexNode @self @lhs.path) @lhs.path
  | ParseErrVertex lhs.pres = presParseErr @presentation


SEM Vertex
  | Vertex id.path  = @lhs.path++[0]
           x.path  = @lhs.path++[1]
           y.path  = @lhs.path++[2]


SEM Edge
  | Edge from.pIdC = @lhs.pIdC + 0
         to.pIdC = @from.pIdC
         lhs.pIdC = @to.pIdC
  | HoleEdge     lhs.pres = presHole @lhs.focusD "Edge" (HoleEdgeNode @self @lhs.path) @lhs.path
  | ParseErrEdge lhs.pres = presParseErr @presentation


SEM Edge
  | Edge from.path  = @lhs.path++[0]
         to.path  = @lhs.path++[1]

SEM List_Dummy
  | List_Dummy
      lhs.press = map ( loc (List_DummyNode @self @lhs.path) 
                      . presentFocus @lhs.focusD @lhs.path ) 
                      @elts.press
                      -- parent is reponsible for setting parsing/structural
      elts.pIdC = @lhs.pIdC + 100 -- NOT RIGHT, should be taken from document type def.
      lhs.pIdC = @elts.pIdC
      elts.path = @lhs.path
      elts.ix = 0
  | HoleList_Dummy     lhs.press = []
  | ParseErrList_Dummy lhs.press = [ presParseErr @presentation ]

SEM ConsList_Dummy
  | Cons_Dummy head.path  = @lhs.path++[@lhs.ix]
              tail.path = @lhs.path
                 lhs.press = @head.pres : @tail.press
                 head.pIdC = @lhs.pIdC + 30 -- NOT RIGHT, should be taken from document type def.
                 tail.pIdC = @head.pIdC
                 lhs.pIdC = @tail.pIdC
  | Nil_Dummy      lhs.press = []


SEM ConsList_Dummy [ ix : Int | | ]
  | Cons_Dummy     tail.ix  = @lhs.ix + 1

SEM List_Vertex
  | List_Vertex
      lhs.press = map ( loc (List_VertexNode @self @lhs.path) 
                      . presentFocus @lhs.focusD @lhs.path ) 
                      @elts.press
                      -- parent is reponsible for setting parsing/structural
      elts.pIdC = @lhs.pIdC + 100 -- NOT RIGHT, should be taken from document type def.
      lhs.pIdC = @elts.pIdC
      elts.path = @lhs.path
      elts.ix = 0
  | HoleList_Vertex     lhs.press = []
  | ParseErrList_Vertex lhs.press = [ presParseErr @presentation ]

SEM ConsList_Vertex
  | Cons_Vertex head.path  = @lhs.path++[@lhs.ix]
               tail.path = @lhs.path
                 lhs.press = @head.pres : @tail.press
                 head.pIdC = @lhs.pIdC + 30 -- NOT RIGHT, should be taken from document type def.
                 tail.pIdC = @head.pIdC
                 lhs.pIdC = @tail.pIdC
  | Nil_Vertex      lhs.press = []


SEM ConsList_Vertex [ ix : Int | | ]
  | Cons_Vertex     tail.ix  = @lhs.ix + 1

SEM List_Edge
  | List_Edge
      lhs.press = map ( loc (List_EdgeNode @self @lhs.path) 
                      . presentFocus @lhs.focusD @lhs.path ) 
                      @elts.press
                      -- parent is reponsible for setting parsing/structural
      elts.pIdC = @lhs.pIdC + 100 -- NOT RIGHT, should be taken from document type def.
      lhs.pIdC = @elts.pIdC
      elts.path = @lhs.path
      elts.ix = 0
  | HoleList_Edge     lhs.press = []
  | ParseErrList_Edge lhs.press = [ presParseErr @presentation ]

SEM ConsList_Edge
  | Cons_Edge head.path  = @lhs.path++[@lhs.ix]
             tail.path = @lhs.path
                 lhs.press = @head.pres : @tail.press
                 head.pIdC = @lhs.pIdC + 30 -- NOT RIGHT, should be taken from document type def.
                 tail.pIdC = @head.pIdC
                 lhs.pIdC = @tail.pIdC
  | Nil_Edge      lhs.press = []


SEM ConsList_Edge [ ix : Int | | ]
  | Cons_Edge     tail.ix  = @lhs.ix + 1


ATTR  EnrichedDoc String_ Bool_ Int_ Dummy Root Tree Graph Vertex Edge List_Dummy ConsList_Dummy List_Vertex ConsList_Vertex List_Edge ConsList_Edge
       [ |  pIdC : Int  | ]


ATTR  EnrichedDoc String_ Bool_ Int_ Dummy Root Tree Graph Vertex Edge List_Dummy ConsList_Dummy List_Vertex ConsList_Vertex List_Edge ConsList_Edge
       [ focusD : FocusDoc | | ]


ATTR  String_ Bool_ Int_ Dummy Root Tree Graph Vertex Edge List_Dummy ConsList_Dummy List_Vertex ConsList_Vertex List_Edge ConsList_Edge
       [ path : {[Int]}  | | ]


ATTR  List_Dummy ConsList_Dummy List_Vertex ConsList_Vertex List_Edge ConsList_Edge [ | | press : {[Presentation_Doc_Node_Clip]} ]


ATTR  EnrichedDoc String_ Bool_ Int_ Dummy Root Tree Graph Vertex Edge [ | | pres : Presentation_Doc_Node_Clip ]


ATTR  String_ Bool_ Int_ Dummy Root Tree Graph Vertex Edge [ ix : Int || ]



-- Default XML presentation

SEM String_ [ || presXML : Presentation_Doc_Node_Clip ]
  | String_
      lhs.presXML = presentElementXML @lhs.focusD (String_Node @self @lhs.path) @lhs.path "String_" [ presentPrimXMLString @string ] 
  | HoleString_     lhs.presXML = presHole @lhs.focusD "String_" (HoleString_Node @self @lhs.path) @lhs.path
  | ParseErrString_ lhs.presXML = presParseErr @presentation

SEM Bool_ [ || presXML : Presentation_Doc_Node_Clip ]
  | Bool_
      lhs.presXML = presentElementXML @lhs.focusD (Bool_Node @self @lhs.path) @lhs.path "Bool_" [ presentPrimXMLBool @bool ] 
  | HoleBool_     lhs.presXML = presHole @lhs.focusD "Bool_" (HoleBool_Node @self @lhs.path) @lhs.path
  | ParseErrBool_ lhs.presXML = presParseErr @presentation

SEM Int_ [ || presXML : Presentation_Doc_Node_Clip ]
  | Int_
      lhs.presXML = presentElementXML @lhs.focusD (Int_Node @self @lhs.path) @lhs.path "Int_" [ presentPrimXMLInt @int ] 
  | HoleInt_     lhs.presXML = presHole @lhs.focusD "Int_" (HoleInt_Node @self @lhs.path) @lhs.path
  | ParseErrInt_ lhs.presXML = presParseErr @presentation

SEM Dummy [ || presXML : Presentation_Doc_Node_Clip ]
  | Dummy
      lhs.presXML = presentElementXML @lhs.focusD (DummyNode @self @lhs.path) @lhs.path "Dummy" [ @dummys.presXML, @string_.presXML, @bool_.presXML, @int_.presXML ] 
  | HoleDummy     lhs.presXML = presHole @lhs.focusD "Dummy" (HoleDummyNode @self @lhs.path) @lhs.path
  | ParseErrDummy lhs.presXML = presParseErr @presentation

SEM Root [ || presXML : Presentation_Doc_Node_Clip ]
  | Root
      lhs.presXML = presentElementXML @lhs.focusD (RootNode @self @lhs.path) @lhs.path "Root" [ @tree.presXML, @graph.presXML ] 
  | HoleRoot     lhs.presXML = presHole @lhs.focusD "Root" (HoleRootNode @self @lhs.path) @lhs.path
  | ParseErrRoot lhs.presXML = presParseErr @presentation

SEM Tree [ || presXML : Presentation_Doc_Node_Clip ]
  | Bin
      lhs.presXML = presentElementXML @lhs.focusD (BinNode @self @lhs.path) @lhs.path "Bin" [ @left.presXML, @right.presXML ] 
  | Leaf
      lhs.presXML = presentElementXML @lhs.focusD (LeafNode @self @lhs.path) @lhs.path "Leaf" [  ] 
  | HoleTree     lhs.presXML = presHole @lhs.focusD "Tree" (HoleTreeNode @self @lhs.path) @lhs.path
  | ParseErrTree lhs.presXML = presParseErr @presentation

SEM Graph [ || presXML : Presentation_Doc_Node_Clip ]
  | Graph
      lhs.presXML = presentElementXML @lhs.focusD (GraphNode @self @lhs.path) @lhs.path "Graph" [ @vertices.presXML, @edges.presXML ] 
  | HoleGraph     lhs.presXML = presHole @lhs.focusD "Graph" (HoleGraphNode @self @lhs.path) @lhs.path
  | ParseErrGraph lhs.presXML = presParseErr @presentation

SEM Vertex [ || presXML : Presentation_Doc_Node_Clip ]
  | Vertex
      lhs.presXML = presentElementXML @lhs.focusD (VertexNode @self @lhs.path) @lhs.path "Vertex" [ @id.presXML, @x.presXML, @y.presXML ] 
  | HoleVertex     lhs.presXML = presHole @lhs.focusD "Vertex" (HoleVertexNode @self @lhs.path) @lhs.path
  | ParseErrVertex lhs.presXML = presParseErr @presentation

SEM Edge [ || presXML : Presentation_Doc_Node_Clip ]
  | Edge
      lhs.presXML = presentElementXML @lhs.focusD (EdgeNode @self @lhs.path) @lhs.path "Edge" [ @from.presXML, @to.presXML ] 
  | HoleEdge     lhs.presXML = presHole @lhs.focusD "Edge" (HoleEdgeNode @self @lhs.path) @lhs.path
  | ParseErrEdge lhs.presXML = presParseErr @presentation

SEM List_Dummy [ || presXML : Presentation_Doc_Node_Clip ]
  | List_Dummy
      lhs.presXML = loc (List_DummyNode @self @lhs.path) $ structural $ presentFocus @lhs.focusD @lhs.path $
                    col @elts.pressXML
  | ParseErrList_Dummy
      lhs.presXML = loc (List_DummyNode @self @lhs.path) $ structural $ presentFocus @lhs.focusD @lhs.path $
                    presParseErr @presentation
  | HoleList_Dummy
      lhs.presXML = loc (List_DummyNode @self @lhs.path) $ structural $ presentFocus @lhs.focusD @lhs.path $
                    presHole @lhs.focusD "List_Dummy" (HoleList_DummyNode @self @lhs.path) @lhs.path

SEM ConsList_Dummy [ | | pressXML : {[Presentation_Doc_Node_Clip]} ]
  | Cons_Dummy     lhs.pressXML  = @head.presXML : @tail.pressXML
  | Nil_Dummy      lhs.pressXML  = []

SEM List_Vertex [ || presXML : Presentation_Doc_Node_Clip ]
  | List_Vertex
      lhs.presXML = loc (List_VertexNode @self @lhs.path) $ structural $ presentFocus @lhs.focusD @lhs.path $
                    col @elts.pressXML
  | ParseErrList_Vertex
      lhs.presXML = loc (List_VertexNode @self @lhs.path) $ structural $ presentFocus @lhs.focusD @lhs.path $
                    presParseErr @presentation
  | HoleList_Vertex
      lhs.presXML = loc (List_VertexNode @self @lhs.path) $ structural $ presentFocus @lhs.focusD @lhs.path $
                    presHole @lhs.focusD "List_Vertex" (HoleList_VertexNode @self @lhs.path) @lhs.path

SEM ConsList_Vertex [ | | pressXML : {[Presentation_Doc_Node_Clip]} ]
  | Cons_Vertex     lhs.pressXML  = @head.presXML : @tail.pressXML
  | Nil_Vertex      lhs.pressXML  = []

SEM List_Edge [ || presXML : Presentation_Doc_Node_Clip ]
  | List_Edge
      lhs.presXML = loc (List_EdgeNode @self @lhs.path) $ structural $ presentFocus @lhs.focusD @lhs.path $
                    col @elts.pressXML
  | ParseErrList_Edge
      lhs.presXML = loc (List_EdgeNode @self @lhs.path) $ structural $ presentFocus @lhs.focusD @lhs.path $
                    presParseErr @presentation
  | HoleList_Edge
      lhs.presXML = loc (List_EdgeNode @self @lhs.path) $ structural $ presentFocus @lhs.focusD @lhs.path $
                    presHole @lhs.focusD "List_Edge" (HoleList_EdgeNode @self @lhs.path) @lhs.path

SEM ConsList_Edge [ | | pressXML : {[Presentation_Doc_Node_Clip]} ]
  | Cons_Edge     lhs.pressXML  = @head.presXML : @tail.pressXML
  | Nil_Edge      lhs.pressXML  = []




-- Default Tree presentation

SEM String_ [ || presTree : Presentation_Doc_Node_Clip ]
  | String_
      lhs.presTree = presentElementTree @lhs.focusD (String_Node @self @lhs.path) @lhs.path "String_" [ presentPrimTreeString @string ] 
  | HoleString_     lhs.presTree = presHole @lhs.focusD "String_" (HoleString_Node @self @lhs.path) @lhs.path
  | ParseErrString_ lhs.presTree = presParseErr @presentation

SEM Bool_ [ || presTree : Presentation_Doc_Node_Clip ]
  | Bool_
      lhs.presTree = presentElementTree @lhs.focusD (Bool_Node @self @lhs.path) @lhs.path "Bool_" [ presentPrimTreeBool @bool ] 
  | HoleBool_     lhs.presTree = presHole @lhs.focusD "Bool_" (HoleBool_Node @self @lhs.path) @lhs.path
  | ParseErrBool_ lhs.presTree = presParseErr @presentation

SEM Int_ [ || presTree : Presentation_Doc_Node_Clip ]
  | Int_
      lhs.presTree = presentElementTree @lhs.focusD (Int_Node @self @lhs.path) @lhs.path "Int_" [ presentPrimTreeInt @int ] 
  | HoleInt_     lhs.presTree = presHole @lhs.focusD "Int_" (HoleInt_Node @self @lhs.path) @lhs.path
  | ParseErrInt_ lhs.presTree = presParseErr @presentation

SEM Dummy [ || presTree : Presentation_Doc_Node_Clip ]
  | Dummy
      lhs.presTree = presentElementTree @lhs.focusD (DummyNode @self @lhs.path) @lhs.path "Dummy" [ @dummys.presTree, @string_.presTree, @bool_.presTree, @int_.presTree ] 
  | HoleDummy     lhs.presTree = presHole @lhs.focusD "Dummy" (HoleDummyNode @self @lhs.path) @lhs.path
  | ParseErrDummy lhs.presTree = presParseErr @presentation

SEM Root [ || presTree : Presentation_Doc_Node_Clip ]
  | Root
      lhs.presTree = presentElementTree @lhs.focusD (RootNode @self @lhs.path) @lhs.path "Root" [ @tree.presTree, @graph.presTree ] 
  | HoleRoot     lhs.presTree = presHole @lhs.focusD "Root" (HoleRootNode @self @lhs.path) @lhs.path
  | ParseErrRoot lhs.presTree = presParseErr @presentation

SEM Tree [ || presTree : Presentation_Doc_Node_Clip ]
  | Bin
      lhs.presTree = presentElementTree @lhs.focusD (BinNode @self @lhs.path) @lhs.path "Bin" [ @left.presTree, @right.presTree ] 
  | Leaf
      lhs.presTree = presentElementTree @lhs.focusD (LeafNode @self @lhs.path) @lhs.path "Leaf" [  ] 
  | HoleTree     lhs.presTree = presHole @lhs.focusD "Tree" (HoleTreeNode @self @lhs.path) @lhs.path
  | ParseErrTree lhs.presTree = presParseErr @presentation

SEM Graph [ || presTree : Presentation_Doc_Node_Clip ]
  | Graph
      lhs.presTree = presentElementTree @lhs.focusD (GraphNode @self @lhs.path) @lhs.path "Graph" [ @vertices.presTree, @edges.presTree ] 
  | HoleGraph     lhs.presTree = presHole @lhs.focusD "Graph" (HoleGraphNode @self @lhs.path) @lhs.path
  | ParseErrGraph lhs.presTree = presParseErr @presentation

SEM Vertex [ || presTree : Presentation_Doc_Node_Clip ]
  | Vertex
      lhs.presTree = presentElementTree @lhs.focusD (VertexNode @self @lhs.path) @lhs.path "Vertex" [ @id.presTree, @x.presTree, @y.presTree ] 
  | HoleVertex     lhs.presTree = presHole @lhs.focusD "Vertex" (HoleVertexNode @self @lhs.path) @lhs.path
  | ParseErrVertex lhs.presTree = presParseErr @presentation

SEM Edge [ || presTree : Presentation_Doc_Node_Clip ]
  | Edge
      lhs.presTree = presentElementTree @lhs.focusD (EdgeNode @self @lhs.path) @lhs.path "Edge" [ @from.presTree, @to.presTree ] 
  | HoleEdge     lhs.presTree = presHole @lhs.focusD "Edge" (HoleEdgeNode @self @lhs.path) @lhs.path
  | ParseErrEdge lhs.presTree = presParseErr @presentation

SEM List_Dummy [ || presTree : Presentation_Doc_Node_Clip ]
  | List_Dummy
      lhs.presTree = loc (List_DummyNode @self @lhs.path) $ structural $ presentFocus @lhs.focusD @lhs.path $
                       col @elts.pressTree
  | ParseErrList_Dummy
      lhs.presTree = loc (List_DummyNode @self @lhs.path) $ structural $ presentFocus @lhs.focusD @lhs.path $
                       presParseErr @presentation
  | HoleList_Dummy
      lhs.presTree = loc (List_DummyNode @self @lhs.path) $ structural $ presentFocus @lhs.focusD @lhs.path $
                       presHole @lhs.focusD "List_Dummy" (HoleList_DummyNode @self @lhs.path) @lhs.path

SEM ConsList_Dummy [ | | pressTree : {[Presentation_Doc_Node_Clip]} ]
  | Cons_Dummy     lhs.pressTree  = @head.presTree : @tail.pressTree
  | Nil_Dummy      lhs.pressTree  = []

SEM List_Vertex [ || presTree : Presentation_Doc_Node_Clip ]
  | List_Vertex
      lhs.presTree = loc (List_VertexNode @self @lhs.path) $ structural $ presentFocus @lhs.focusD @lhs.path $
                       col @elts.pressTree
  | ParseErrList_Vertex
      lhs.presTree = loc (List_VertexNode @self @lhs.path) $ structural $ presentFocus @lhs.focusD @lhs.path $
                       presParseErr @presentation
  | HoleList_Vertex
      lhs.presTree = loc (List_VertexNode @self @lhs.path) $ structural $ presentFocus @lhs.focusD @lhs.path $
                       presHole @lhs.focusD "List_Vertex" (HoleList_VertexNode @self @lhs.path) @lhs.path

SEM ConsList_Vertex [ | | pressTree : {[Presentation_Doc_Node_Clip]} ]
  | Cons_Vertex     lhs.pressTree  = @head.presTree : @tail.pressTree
  | Nil_Vertex      lhs.pressTree  = []

SEM List_Edge [ || presTree : Presentation_Doc_Node_Clip ]
  | List_Edge
      lhs.presTree = loc (List_EdgeNode @self @lhs.path) $ structural $ presentFocus @lhs.focusD @lhs.path $
                       col @elts.pressTree
  | ParseErrList_Edge
      lhs.presTree = loc (List_EdgeNode @self @lhs.path) $ structural $ presentFocus @lhs.focusD @lhs.path $
                       presParseErr @presentation
  | HoleList_Edge
      lhs.presTree = loc (List_EdgeNode @self @lhs.path) $ structural $ presentFocus @lhs.focusD @lhs.path $
                       presHole @lhs.focusD "List_Edge" (HoleList_EdgeNode @self @lhs.path) @lhs.path

SEM ConsList_Edge [ | | pressTree : {[Presentation_Doc_Node_Clip]} ]
  | Cons_Edge     lhs.pressTree  = @head.presTree : @tail.pressTree
  | Nil_Edge      lhs.pressTree  = []

